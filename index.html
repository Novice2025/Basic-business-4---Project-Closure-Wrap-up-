<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>NEXTATION â€“ Project Closure & Wrap-up (Finalizando com Sucesso)</title>
  <style>
    :root {
      /* NEXTATION WEBSITE â€” COLOUR SYSTEM (from your PDF) */
      --bg-main: #02030b; /* Page background */
      --bg-gradient: radial-gradient(circle at top, #1c1f3b 0%, #050716 45%, #02030b 100%);
      /* Surfaces / Cards */
      --card-bg: rgba(15, 18, 40, 0.92);        /* Lesson panels */
      --card-soft-bg: rgba(18, 21, 50, 0.88);   /* Tab cards and navigation buttons */
      /* Neon accents */
      --accent-cyan: #4ef2ff;   /* Cyan highlight around edges */
      --accent-pink: #ff2f92;   /* Magenta highlight for buttons */
      --accent-green: #4dff9b;  /* Success / tab completed mark */
      --accent-yello: #ffe25f;  /* Accent blended in text gradients */
      --accent-purple: #aa5dff; /* Hover glows and edges */
      /* Text and borders */
      --muted: rgba(255,255,255,0.65);
      --border-glow: rgba(120,120,255,0.45);
      /* Shadows */
      --shadow-strong: 0 0 36px rgba(130,80,255,0.6);
      --shadow-soft: 0 0 20px rgba(0,0,0,0.65);
      /* Radii and transitions */
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-sm: 10px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.28s ease-out;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:var(--bg-gradient);
      color:#fff;
      min-height:100vh;
      padding:32px 24px; /* Increased padding for more overall space */
      display:flex;
      justify-content:center;
      line-height:1.8; /* Increased line height for better readability */
    }
    .app{max-width:1100px;width:100%;}

    /* HEADER */
    .neon-header{
      position:relative;
      padding:22px 24px 18px;
      border-radius:var(--radius-lg);
      background:rgba(3,5,20,0.9);
      box-shadow:var(--shadow-soft);
      border:1px solid var(--border-glow);
      margin-bottom:32px; /* Increased margin-bottom */
      overflow:hidden;
    }
    .neon-header::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:linear-gradient(90deg,#00f5ff,#ff2f92,#ffe25f,#4dff9b);
      opacity:0.5;
      mix-blend-mode:screen;
      pointer-events:none;
      z-index:-1;
    }
    .header-main{display:flex;align-items:center;gap:20px;margin-bottom:12px;} /* Increased gap and margin */
    .teacher-orb{
      width:68px;height:68px;border-radius:50%;
      background:radial-gradient(circle,#ffffff 0%,#00fff0 35%,#ff2f92 70%,#02030b 100%);
      box-shadow:0 0 24px rgba(0,255,255,0.7),0 0 32px rgba(255,0,160,0.55);
      flex-shrink:0;
    }
    .brand-title{
      font-size:1.45rem;
      background:linear-gradient(90deg,#4ef2ff,#ff2f92);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      font-weight:700;
      letter-spacing:0.06em;
      text-transform:uppercase;
      margin-bottom:6px;
      line-height:1.2;
    }
    .lesson-title{
      font-size:0.95rem;
      color:var(--muted);
      letter-spacing:0.03em;
    }
    .header-description{
      font-size:0.9rem;
      color:var(--muted);
      margin-top:10px;
      line-height:1.6;
    }

    /* TABS NAVIGATION */
    .tabs{
      display:flex;
      flex-wrap:wrap; /* Allow tabs to wrap on smaller screens */
      gap:12px; /* Space between tabs */
      margin-bottom:28px; /* Increased margin */
      justify-content:flex-start; /* Align tabs to the start */
    }
    .tab-button{
      flex-grow:1; /* Allow buttons to grow and fill space */
      flex-basis:auto; /* Reset flex-basis */
      max-width:fit-content; /* Limit width to content */
      padding:12px 20px;
      background:var(--card-soft-bg);
      border:1px solid rgba(120,120,255,0.2);
      border-radius:var(--radius-md);
      color:var(--muted);
      font-size:0.9rem;
      font-weight:600;
      cursor:pointer;
      transition:var(--transition-med);
      white-space:nowrap; /* Prevent text wrapping inside buttons */
      display:flex;
      align-items:center;
      gap:8px;
    }
    .tab-button:hover{
      border-color:var(--accent-purple);
      color:#fff;
      box-shadow:0 0 15px rgba(170,93,255,0.4);
    }
    .tab-button.active{
      background:linear-gradient(45deg,var(--accent-purple) 0%,var(--accent-pink) 100%);
      color:#fff;
      border-color:var(--accent-purple);
      box-shadow:var(--shadow-strong);
      transform:translateY(-2px);
    }
    .tab-button.active .tab-emoji{
      filter:brightness(1.2);
    }
    .tab-emoji{font-size:1.2em;line-height:1;}

    /* PANELS / CONTENT */
    .panels{position:relative;}
    .panel{
      background:var(--card-bg);
      border:1px solid var(--border-glow);
      border-radius:var(--radius-lg);
      padding:30px; /* Increased padding */
      box-shadow:var(--shadow-soft);
      position:absolute;
      top:0;left:0;right:0;
      opacity:0;
      pointer-events:none;
      transform:translateY(15px);
      transition:opacity var(--transition-med),transform var(--transition-med);
      min-height:300px; /* Ensure panels have a minimum height */
    }
    .panel.active{
      opacity:1;
      pointer-events:auto;
      position:relative; /* Active panel takes up space */
      transform:translateY(0);
    }

    /* CARD INNER CONTENT */
    .card-inner{
      display:flex;
      flex-direction:column;
      gap:24px; /* Space between content blocks */
    }
    .section-title{
      font-size:1.6rem; /* Larger title */
      font-weight:700;
      color:var(--accent-cyan);
      margin-bottom:12px; /* Space below title */
      text-shadow:0 0 8px rgba(78,242,255,0.4);
      line-height:1.3;
    }
    .section-sub{
      font-size:1.1rem; /* Larger subtitle */
      color:var(--accent-yello);
      margin-bottom:18px; /* More space below subtitle */
      font-weight:600;
    }
    .content-block{
      background:rgba(255,255,255,0.05);
      border-left:4px solid var(--accent-purple);
      padding:18px 20px;
      border-radius:var(--radius-sm);
      margin-bottom:16px; /* Space between content blocks */
    }
    .content-block p{margin-bottom:10px;font-size:0.95rem;}
    .content-block strong{color:var(--accent-cyan);}
    .content-block em{color:var(--accent-yello);font-style:normal;}

    /* EXAMPLE BLOCKS */
    .example-block{
      background:rgba(255,255,255,0.08);
      border:1px solid rgba(170,93,255,0.3);
      border-radius:var(--radius-md);
      padding:20px;
      margin-bottom:20px;
      display:flex;
      flex-direction:column;
      gap:15px;
      position:relative;
      overflow:hidden;
    }
    .example-block::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:linear-gradient(45deg,var(--accent-purple),var(--accent-pink));
      opacity:0.2;
      mix-blend-mode:overlay;
      z-index:0;
    }
    .example-block > * {position:relative;z-index:1;} /* Ensure content is above overlay */

    .example-en, .example-pt{
      font-size:1.1rem;
      font-weight:600;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .example-en{color:var(--accent-cyan);}
    .example-pt{color:#fff;}
    .example-en .emoji, .example-pt .emoji{font-size:1.2em;}
    .example-explanation{
      font-size:0.9rem;
      color:var(--muted);
      border-left:3px solid var(--accent-yello);
      padding-left:12px;
      margin-top:10px;
    }
    .example-explanation strong{color:var(--accent-yello);}

    /* MICRO-PRACTICE SECTION */
    .micro-practice-section{
      background:rgba(78,242,255,0.08);
      border:1px solid var(--accent-cyan);
      border-radius:var(--radius-md);
      padding:18px;
      margin-top:20px;
      display:flex;
      flex-direction:column;
      gap:15px;
    }
    .micro-practice-section p{
      font-size:0.95rem;
      color:#fff;
      font-weight:600;
    }
    .practice-input{
      width:100%;
      padding:12px 15px;
      border:1px solid var(--accent-cyan);
      border-radius:var(--radius-sm);
      background:rgba(0,0,0,0.4);
      color:#fff;
      font-size:1rem;
      transition:border-color var(--transition-fast),box-shadow var(--transition-fast);
    }
    .practice-input:focus{
      border-color:var(--accent-purple);
      box-shadow:0 0 10px rgba(170,93,255,0.6);
      outline:none;
    }
    .feedback-message{
      font-size:0.9rem;
      min-height:20px; /* Reserve space */
      margin-top:5px;
    }
    .feedback-message.correct{color:var(--accent-green);}
    .feedback-message.incorrect{color:var(--accent-pink);}

    /* PLAYBACK BUTTON */
    .playback-button{
      background:linear-gradient(90deg,var(--accent-pink),var(--accent-purple));
      color:#fff;
      border:none;
      border-radius:var(--radius-sm);
      padding:8px 15px;
      font-size:0.9rem;
      cursor:pointer;
      transition:var(--transition-fast);
      display:flex;
      align-items:center;
      gap:8px;
      width:fit-content;
      margin-top:10px;
      box-shadow:0 0 10px rgba(255,47,146,0.4);
    }
    .playback-button:hover{
      opacity:0.9;
      box-shadow:0 0 15px rgba(255,47,146,0.6);
      transform:translateY(-1px);
    }
    .playback-button:active{transform:translateY(0);}

    /* SUPER TIP */
    .super-tip{
      background:rgba(255,226,95,0.1);
      border-left:4px solid var(--accent-yello);
      padding:15px 20px;
      border-radius:var(--radius-sm);
      margin-top:20px;
      font-size:0.95rem;
      color:#fff;
      display:flex;
      align-items:flex-start;
      gap:10px;
    }
    .super-tip .emoji{font-size:1.4em;line-height:1;}
    .super-tip strong{color:var(--accent-yello);}

    /* PORTUGUESE THINKING */
    .portuguese-thinking{
      background:rgba(170,93,255,0.1);
      border-left:4px solid var(--accent-purple);
      padding:15px 20px;
      border-radius:var(--radius-sm);
      margin-top:20px;
      font-size:0.95rem;
      color:#fff;
      display:flex;
      align-items:flex-start;
      gap:10px;
    }
    .portuguese-thinking .emoji{font-size:1.4em;line-height:1;}
    .portuguese-thinking strong{color:var(--accent-purple);}


    /* EXERCISE SECTION */
    .exercise-section{
      background:rgba(77,255,155,0.08);
      border:1px solid var(--accent-green);
      border-radius:var(--radius-md);
      padding:20px;
      margin-top:30px;
      display:flex;
      flex-direction:column;
      gap:15px;
    }
    .exercise-section h3{
      color:var(--accent-green);
      font-size:1.2rem;
      margin-bottom:10px;
      text-shadow:0 0 5px rgba(77,255,155,0.4);
    }
    .exercise-section .question{
      font-size:1rem;
      color:#fff;
      margin-bottom:8px;
    }
    .exercise-section .options button{
      background:var(--card-soft-bg);
      border:1px solid rgba(77,255,155,0.3);
      color:#fff;
      padding:8px 15px;
      border-radius:var(--radius-sm);
      cursor:pointer;
      margin-right:8px;
      margin-bottom:8px;
      transition:var(--transition-fast);
    }
    .exercise-section .options button:hover{
      border-color:var(--accent-green);
      box-shadow:0 0 10px rgba(77,255,155,0.4);
    }
    .exercise-section .options button.correct{
      background:var(--accent-green);
      color:var(--bg-main);
      font-weight:bold;
    }
    .exercise-section .options button.incorrect{
      background:var(--accent-pink);
      color:var(--bg-main);
      font-weight:bold;
    }
    .exercise-section .exercise-feedback{
      font-size:0.9rem;
      margin-top:10px;
      min-height:20px;
    }

    /* CONTROLS ROW */
    .controls-row{
      display:flex;
      flex-wrap:wrap;
      gap:15px;
      justify-content:space-between;
      margin-top:30px;
      padding-top:20px;
      border-top:1px dashed rgba(255,255,255,0.1);
    }
    .record-button{
      background:var(--card-soft-bg);
      border:1px solid var(--border-glow);
      color:var(--muted);
      padding:10px 18px;
      border-radius:var(--radius-md);
      cursor:pointer;
      transition:var(--transition-med);
      display:flex;
      align-items:center;
      gap:10px;
      font-size:0.9rem;
      font-weight:600;
    }
    .record-button:hover{
      border-color:var(--accent-purple);
      color:#fff;
      box-shadow:0 0 15px rgba(170,93,255,0.4);
    }
    .record-button.recording{
      background:linear-gradient(90deg,var(--accent-pink),#ff0000);
      color:#fff;
      border-color:var(--accent-pink);
      box-shadow:0 0 15px rgba(255,47,146,0.6);
    }
    .record-dot{
      font-size:1.5em;
      line-height:1;
    }
    #audio-status{
      font-size:0.85rem;
      color:var(--muted);
      margin-top:8px;
      flex-basis:100%; /* Take full width below buttons */
    }

    /* EXPORT BAR */
    .export-bar{
      display:flex;
      gap:10px;
      margin-top:20px;
      justify-content:flex-end;
    }
    .export-button{
      background:var(--card-soft-bg);
      border:1px solid var(--border-glow);
      color:var(--muted);
      padding:8px 15px;
      border-radius:var(--radius-sm);
      cursor:pointer;
      transition:var(--transition-fast);
      font-size:0.85rem;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .export-button:hover{
      border-color:var(--accent-cyan);
      color:var(--accent-cyan);
      box-shadow:0 0 10px rgba(78,242,255,0.3);
    }

    /* FOOTER */
    .footer-nav{
      display:flex;
      justify-content:space-between;
      margin-top:40px;
      padding-top:20px;
      border-top:1px solid rgba(255,255,255,0.1);
    }
    .footer-button{
      background:var(--card-soft-bg);
      border:1px solid var(--border-glow);
      color:var(--muted);
      padding:10px 20px;
      border-radius:var(--radius-md);
      cursor:pointer;
      transition:var(--transition-med);
      font-size:0.9rem;
      font-weight:600;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .footer-button:hover{
      border-color:var(--accent-purple);
      color:#fff;
      box-shadow:0 0 15px rgba(170,93,255,0.4);
    }
    .footer-button.next{
      background:linear-gradient(90deg,var(--accent-green),var(--accent-cyan));
      color:var(--bg-main);
      border-color:var(--accent-green);
      box-shadow:0 0 15px rgba(77,255,155,0.6);
    }
    .footer-button.next:hover{
      opacity:0.9;
      box-shadow:0 0 20px rgba(77,255,155,0.8);
    }
    .footer-button:disabled{
      opacity:0.5;
      cursor:not-allowed;
      box-shadow:none;
      border-color:rgba(120,120,255,0.2);
      background:var(--card-soft-bg);
      color:var(--muted);
    }

    .footer-meta{
      text-align:center;
      font-size:0.8rem;
      color:var(--muted);
      margin-top:20px;
      padding-top:15px;
      border-top:1px dashed rgba(255,255,255,0.08);
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .header-main{flex-direction:column;text-align:center;gap:10px;}
      .teacher-orb{width:50px;height:50px;}
      .brand-title{font-size:1.2rem;}
      .lesson-title{font-size:0.85rem;}
      .tabs{flex-direction:column;gap:8px;}
      .tab-button{width:100%;}
      .panel{padding:20px;}
      .section-title{font-size:1.4rem;}
      .section-sub{font-size:1rem;}
      .example-en, .example-pt{font-size:1rem;}
      .controls-row{flex-direction:column;align-items:stretch;}
      .export-bar{flex-direction:column;align-items:stretch;}
      .footer-nav{flex-direction:column;gap:15px;}
      .footer-button{width:100%;justify-content:center;}
    }
  </style>
  <!-- Libraries for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <div class="app">
    <header class="neon-header">
      <div class="header-main">
        <div class="teacher-orb"></div>
        <div>
          <h1 class="brand-title">NEXTATION</h1>
          <p class="lesson-title">Project Closure & Wrap-up (Finalizando com Sucesso)</p>
        </div>
      </div>
      <p class="header-description">
        ğŸš€ Dominar o encerramento de projetos Ã© crucial! Nesta liÃ§Ã£o, vamos aprender as frases e estruturas essenciais para confirmar a conclusÃ£o, delegar as Ãºltimas etapas e agradecer a equipe, tudo em inglÃªs profissional. Prepare-se para finalizar com chave de ouro!
      </p>
    </header>

    <nav class="tabs">
      <button class="tab-button active" onclick="showTab('overview')">
        <span class="tab-emoji">ğŸ§ </span> VisÃ£o Geral
      </button>
      <button class="tab-button" onclick="showTab('tab-finish-now')">
        <span class="tab-emoji">â°</span> Can we finish now?
      </button>
      <button class="tab-button" onclick="showTab('tab-completed-my-part')">
        <span class="tab-emoji">âœ…</span> I have completed my part.
      </button>
      <button class="tab-button" onclick="showTab('tab-closing-task')">
        <span class="tab-emoji">ğŸšª</span> We are closing this task.
      </button>
      <button class="tab-button" onclick="showTab('tab-send-final-version')">
        <span class="tab-emoji">ğŸ“¤</span> She will send the final version.
      </button>
      <button class="tab-button" onclick="showTab('tab-sent-everything')">
        <span class="tab-emoji">ğŸ“¦</span> They have sent everything.
      </button>
      <button class="tab-button" onclick="showTab('tab-review-again')">
        <span class="tab-emoji">ğŸ”</span> I can review it again.
      </button>
      <button class="tab-button" onclick="showTab('tab-final-check')">
        <span class="tab-emoji">ğŸ§</span> We need a final check.
      </button>
      <button class="tab-button" onclick="showTab('tab-ready-for-delivery')">
        <span class="tab-emoji">ğŸš€</span> Everything is ready for delivery.
      </button>
      <button class="tab-button" onclick="showTab('tab-appreciate-help')">
        <span class="tab-emoji">ğŸ™</span> I appreciate your help.
      </button>
      <button class="tab-button" onclick="showTab('tab-great-job')">
        <span class="tab-emoji">ğŸŒŸ</span> We did a great job.
      </button>
      <button class="tab-button" onclick="showTab('tab-final-practice')">
        <span class="tab-emoji">ğŸ“</span> PrÃ¡tica Final
      </button>
    </nav>

    <div class="panels">
      <!-- OVERVIEW TAB -->
      <div id="overview" class="panel active">
        <div class="card-inner">
          <h2 class="section-title">VisÃ£o Geral: Fechamento & ConclusÃ£o de Projetos ğŸ</h2>
          <p class="section-sub">A arte de finalizar tarefas e projetos com clareza e profissionalismo.</p>

          <div class="content-block">
            <p>Em qualquer ambiente de trabalho, saber como <strong>comunicar o progresso final, confirmar a conclusÃ£o e agradecer a equipe</strong> Ã© tÃ£o importante quanto iniciar o projeto. Esta liÃ§Ã£o foca nas frases e estruturas que vocÃª precisa para gerenciar o <strong>fim de um ciclo de trabalho</strong> em inglÃªs.</p>
            <p>Vamos explorar como usar <strong>verbos modais</strong> para perguntar sobre a conclusÃ£o, o <strong>Present Perfect</strong> para falar de aÃ§Ãµes finalizadas com impacto atual, o <strong>Future Simple</strong> para as prÃ³ximas etapas, e expressÃµes fixas que tornam sua comunicaÃ§Ã£o mais fluida e profissional.</p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>Dica NEXTATION:</strong> Pense no fechamento como um "check-list verbal". Cada frase Ã© um item que vocÃª marca para garantir que todos estÃ£o na mesma pÃ¡gina e que o trabalho foi bem-feito.
            </div>
          </div>

          <div class="exercise-section">
            <h3>ExercÃ­cio RÃ¡pido: Qual a melhor frase para finalizar uma reuniÃ£o?</h3>
            <p class="question">VocÃª precisa perguntar se todos estÃ£o prontos para encerrar a reuniÃ£o.</p>
            <div class="options">
              <button onclick="checkExercise(this, 'overview', 'incorrect')">Do we finish now?</button>
              <button onclick="checkExercise(this, 'overview', 'correct')">Can we finish now?</button>
              <button onclick="checkExercise(this, 'overview', 'incorrect')">Are we finishing now?</button>
            </div>
            <p class="exercise-feedback" id="feedback-overview"></p>
          </div>
        </div>
      </div>

      <!-- TAB: Can we finish now? -->
      <div id="tab-finish-now" class="panel">
        <div class="card-inner">
          <h2 class="section-title">Can we finish now? (Confirmando ConclusÃ£o) â°</h2>
          <p class="section-sub">Perguntando de forma educada se Ã© o momento de encerrar.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± I | will send | the update soon.</div>
            <div class="example-en">â¡ï¸ Can you join the call?</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· VocÃª pode entrar na chamada?</div>
            <button class="playback-button" onclick="speakText('Can you join the call?')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Modal + sujeito + verbo base.</strong><br>
              Usamos <strong>"Can"</strong> para perguntar sobre possibilidade ou permissÃ£o. Ã‰ uma forma educada e comum de verificar a disponibilidade ou o consenso para finalizar algo.
            </p>
          </div>

          <div class="portuguese-thinking">
            <span class="emoji">ğŸ¤”</span>
            <div>
              <strong>Pensamento Brasileiro:</strong> Em portuguÃªs, muitas vezes sÃ³ dizemos "Podemos finalizar?". Em inglÃªs, o "Can" no inÃ­cio jÃ¡ sinaliza a pergunta de possibilidade.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Podemos comeÃ§ar o projeto agora?"</strong></p>
            <input type="text" class="practice-input" id="practice-finish-now" onkeyup="checkAnswer(this, 'Can we start the project now?')">
            <p class="feedback-message" id="feedback-finish-now"></p>
          </div>
        </div>
      </div>

      <!-- TAB: I have completed my part. -->
      <div id="tab-completed-my-part" class="panel">
        <div class="card-inner">
          <h2 class="section-title">I have completed my part. (Minha Parte ConcluÃ­da) âœ…</h2>
          <p class="section-sub">Informando que sua parte da tarefa estÃ¡ finalizada.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± I | have completed | my part.</div>
            <div class="example-en">â¡ï¸ I have completed my part.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Eu finalizei minha parte.</div>
            <button class="playback-button" onclick="speakText('I have completed my part.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Present Perfect = impacto agora.</strong><br>
              O <strong>Present Perfect</strong> (`have/has + past participle`) Ã© perfeito para dizer que uma aÃ§Ã£o foi concluÃ­da no passado, mas o resultado ou impacto Ã© relevante no presente. Aqui, significa "minha parte estÃ¡ pronta AGORA".
            </p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>Lembrete:</strong> Use "completed" para tarefas e projetos. Ã‰ mais formal e comum em contextos de trabalho do que "finished" para essa finalidade.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Ela completou o relatÃ³rio."</strong></p>
            <input type="text" class="practice-input" id="practice-completed-my-part" onkeyup="checkAnswer(this, 'She has completed the report.')">
            <p class="feedback-message" id="feedback-completed-my-part"></p>
          </div>
        </div>
      </div>

      <!-- TAB: We are closing this task. -->
      <div id="tab-closing-task" class="panel">
        <div class="card-inner">
          <h2 class="section-title">We are closing this task. (Encerrando Tarefa) ğŸšª</h2>
          <p class="section-sub">Comunicando que uma tarefa estÃ¡ sendo finalizada.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± We | are closing | this task.</div>
            <div class="example-en">â¡ï¸ We are closing this task.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Estamos encerrando essa tarefa.</div>
            <button class="playback-button" onclick="speakText('We are closing this task.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Present Continuous para aÃ§Ãµes em andamento ou futuro prÃ³ximo.</strong><br>
              O <strong>Present Continuous</strong> (`verb to be + -ing`) indica uma aÃ§Ã£o que estÃ¡ acontecendo agora ou que estÃ¡ planejada para um futuro muito prÃ³ximo. Aqui, sugere que o processo de encerramento estÃ¡ em curso.
            </p>
          </div>

          <div class="portuguese-thinking">
            <span class="emoji">ğŸ¤”</span>
            <div>
              <strong>Pensamento Brasileiro:</strong> "Estamos encerrando" soa natural. Em inglÃªs, a estrutura "are closing" capta essa ideia de processo ou plano iminente.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Eles estÃ£o fechando o projeto."</strong></p>
            <input type="text" class="practice-input" id="practice-closing-task" onkeyup="checkAnswer(this, 'They are closing the project.')">
            <p class="feedback-message" id="feedback-closing-task"></p>
          </div>
        </div>
      </div>

      <!-- TAB: She will send the final version. -->
      <div id="tab-send-final-version" class="panel">
        <div class="card-inner">
          <h2 class="section-title">She will send the final version. (PrÃ³xima Etapa) ğŸ“¤</h2>
          <p class="section-sub">Informando sobre uma aÃ§Ã£o futura de envio.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± She | will send | the final version.</div>
            <div class="example-en">â¡ï¸ She will send the final version.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Ela vai enviar a versÃ£o final.</div>
            <button class="playback-button" onclick="speakText('She will send the final version.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Future Simple com "will".</strong><br>
              Usamos <strong>"will + verbo base"</strong> para falar de aÃ§Ãµes futuras, decisÃµes tomadas no momento da fala, ou promessas. Ã‰ uma forma direta de indicar quem farÃ¡ a prÃ³xima etapa.
            </p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>"Final version":</strong> Uma expressÃ£o comum em projetos para se referir Ã  versÃ£o definitiva de um documento, software, etc.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Eu vou enviar o documento amanhÃ£."</strong></p>
            <input type="text" class="practice-input" id="practice-send-final-version" onkeyup="checkAnswer(this, 'I will send the document tomorrow.')">
            <p class="feedback-message" id="feedback-send-final-version"></p>
          </div>
        </div>
      </div>

      <!-- TAB: They have sent everything. -->
      <div id="tab-sent-everything" class="panel">
        <div class="card-inner">
          <h2 class="section-title">They have sent everything. (Tudo Enviado) ğŸ“¦</h2>
          <p class="section-sub">Confirmando que todos os itens foram enviados.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± They | have sent | everything.</div>
            <div class="example-en">â¡ï¸ They have sent everything.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Eles enviaram tudo.</div>
            <button class="playback-button" onclick="speakText('They have sent everything.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Present Perfect = impacto agora.</strong><br>
              Novamente, o <strong>Present Perfect</strong> Ã© usado para descrever uma aÃ§Ã£o que foi concluÃ­da no passado, mas que tem um resultado ou relevÃ¢ncia no presente. Aqui, o resultado Ã© que "tudo estÃ¡ enviado e pronto".
            </p>
          </div>

          <div class="portuguese-thinking">
            <span class="emoji">ğŸ¤”</span>
            <div>
              <strong>Pensamento Brasileiro:</strong> "Eles enviaram tudo" Ã© direto. Em inglÃªs, o "have sent" reforÃ§a que a aÃ§Ã£o estÃ¡ completa e o estado atual Ã© de "enviado".
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"NÃ³s jÃ¡ terminamos o trabalho."</strong></p>
            <input type="text" class="practice-input" id="practice-sent-everything" onkeyup="checkAnswer(this, 'We have already finished the work.')">
            <p class="feedback-message" id="feedback-sent-everything"></p>
          </div>
        </div>
      </div>

      <!-- TAB: I can review it again. -->
      <div id="tab-review-again" class="panel">
        <div class="card-inner">
          <h2 class="section-title">I can review it again. (Oferecendo Ajuda) ğŸ”</h2>
          <p class="section-sub">Oferecendo-se para revisar ou verificar algo novamente.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± I | can review | it again.</div>
            <div class="example-en">â¡ï¸ I can review it again.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Posso revisar isso de novo.</div>
            <button class="playback-button" onclick="speakText('I can review it again.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Modal "Can" para expressar capacidade ou oferta.</strong><br>
              O modal <strong>"Can"</strong> Ã© usado para indicar que vocÃª tem a capacidade ou estÃ¡ disposto a fazer algo. Ã‰ uma forma Ãºtil de oferecer ajuda ou uma verificaÃ§Ã£o extra.
            </p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>"Again":</strong> Significa "de novo" ou "novamente". Simples e eficaz para indicar repetiÃ§Ã£o.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Ele pode verificar os dados novamente."</strong></p>
            <input type="text" class="practice-input" id="practice-review-again" onkeyup="checkAnswer(this, 'He can check the data again.')">
            <p class="feedback-message" id="feedback-review-again"></p>
          </div>
        </div>
      </div>

      <!-- TAB: We need a final check. -->
      <div id="tab-final-check" class="panel">
        <div class="card-inner">
          <h2 class="section-title">We need a final check. (Necessidade de VerificaÃ§Ã£o) ğŸ§</h2>
          <p class="section-sub">Expressando a necessidade de uma Ãºltima conferÃªncia.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± We | need | a final check.</div>
            <div class="example-en">â¡ï¸ We need a final check.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Precisamos de uma Ãºltima conferÃªncia.</div>
            <button class="playback-button" onclick="speakText('We need a final check.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ "Need" + substantivo para expressar necessidade.</strong><br>
              A estrutura <strong>"need + a/an + substantivo"</strong> Ã© usada para indicar que algo Ã© necessÃ¡rio. <strong>"Final check"</strong> Ã© uma collocation comum para a revisÃ£o final.
            </p>
          </div>

          <div class="portuguese-thinking">
            <span class="emoji">ğŸ¤”</span>
            <div>
              <strong>Pensamento Brasileiro:</strong> "Precisamos de uma Ãºltima conferÃªncia" Ã© bem parecido. O "a final check" funciona como nosso "uma Ãºltima conferÃªncia".
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Eles precisam de uma aprovaÃ§Ã£o final."</strong></p>
            <input type="text" class="practice-input" id="practice-final-check" onkeyup="checkAnswer(this, 'They need a final approval.')">
            <p class="feedback-message" id="feedback-final-check"></p>
          </div>
        </div>
      </div>

      <!-- TAB: Everything is ready for delivery. -->
      <div id="tab-ready-for-delivery" class="panel">
        <div class="card-inner">
          <h2 class="section-title">Everything is ready for delivery. (Pronto para Entrega) ğŸš€</h2>
          <p class="section-sub">Confirmando que tudo estÃ¡ preparado para a entrega.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± Everything | is ready | for delivery.</div>
            <div class="example-en">â¡ï¸ Everything is ready for delivery.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· EstÃ¡ tudo pronto para entrega.</div>
            <button class="playback-button" onclick="speakText('Everything is ready for delivery.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ "Everything" como sujeito singular.</strong><br>
              <strong>"Everything"</strong> (tudo) Ã© sempre tratado como um sujeito singular em inglÃªs, por isso usamos <strong>"is"</strong>. <strong>"Ready for delivery"</strong> Ã© uma expressÃ£o padrÃ£o para indicar que algo estÃ¡ pronto para ser entregue.
            </p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>AtenÃ§Ã£o:</strong> Em portuguÃªs, "tudo" pode parecer plural, mas em inglÃªs "everything" Ã© sempre singular! Lembre-se: "Everything IS".
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"Tudo estÃ¡ pronto para o lanÃ§amento."</strong></p>
            <input type="text" class="practice-input" id="practice-ready-for-delivery" onkeyup="checkAnswer(this, 'Everything is ready for the launch.')">
            <p class="feedback-message" id="feedback-ready-for-delivery"></p>
          </div>
        </div>
      </div>

      <!-- TAB: I appreciate your help. -->
      <div id="tab-appreciate-help" class="panel">
        <div class="card-inner">
          <h2 class="section-title">I appreciate your help. (Agradecimento) ğŸ™</h2>
          <p class="section-sub">Expressando gratidÃ£o de forma profissional.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± I | appreciate | your help.</div>
            <div class="example-en">â¡ï¸ I appreciate your help.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Eu agradeÃ§o sua ajuda.</div>
            <button class="playback-button" onclick="speakText('I appreciate your help.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ "Appreciate" para gratidÃ£o.</strong><br>
              <strong>"Appreciate"</strong> Ã© um verbo mais formal e profissional para expressar gratidÃ£o do que apenas "thank you". Ã‰ Ã³timo para reconhecer o esforÃ§o de colegas e parceiros.
            </p>
          </div>

          <div class="portuguese-thinking">
            <span class="emoji">ğŸ¤”</span>
            <div>
              <strong>Pensamento Brasileiro:</strong> "AgradeÃ§o sua ajuda" Ã© direto. Em inglÃªs, "I appreciate your help" tem um tom um pouco mais formal e de reconhecimento.
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"NÃ³s apreciamos seu feedback."</strong></p>
            <input type="text" class="practice-input" id="practice-appreciate-help" onkeyup="checkAnswer(this, 'We appreciate your feedback.')">
            <p class="feedback-message" id="feedback-appreciate-help"></p>
          </div>
        </div>
      </div>

      <!-- TAB: We did a great job. -->
      <div id="tab-great-job" class="panel">
        <div class="card-inner">
          <h2 class="section-title">We did a great job. (Reconhecimento) ğŸŒŸ</h2>
          <p class="section-sub">Elogiando o desempenho da equipe ou de um indivÃ­duo.</p>

          <div class="example-block">
            <div class="example-en">ğŸ§± We | did | a great job.</div>
            <div class="example-en">â¡ï¸ We did a great job.</div>
            <div class="example-pt">ğŸ‡§ğŸ‡· Fizemos um Ã³timo trabalho.</div>
            <button class="playback-button" onclick="speakText('We did a great job.')">
              <span class="emoji">ğŸ”Š</span> Ouvir
            </button>
            <p class="example-explanation">
              <strong>ğŸ“˜ Past Simple do verbo "do".</strong><br>
              <strong>"Did"</strong> Ã© o passado simples do verbo "to do". <strong>"Did a great job"</strong> Ã© uma expressÃ£o idiomÃ¡tica muito comum para elogiar um bom trabalho ou desempenho.
            </p>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸ’¡</span>
            <div>
              <strong>VariaÃ§Ãµes:</strong> VocÃª pode usar "You did a great job!" (para uma pessoa) ou "They did an excellent job!" (para um grupo).
            </div>
          </div>

          <div class="micro-practice-section">
            <p>Escreva a frase: <strong>"VocÃª fez um trabalho incrÃ­vel!"</strong></p>
            <input type="text" class="practice-input" id="practice-great-job" onkeyup="checkAnswer(this, 'You did an amazing job!')">
            <p class="feedback-message" id="feedback-great-job"></p>
          </div>
        </div>
      </div>

      <!-- TAB: PrÃ¡tica Final -->
      <div id="tab-final-practice" class="panel">
        <div class="card-inner">
          <h2 class="section-title">PrÃ¡tica Final: CenÃ¡rio de Fechamento ğŸ“</h2>
          <p class="section-sub">Hora de juntar tudo e praticar a comunicaÃ§Ã£o de encerramento!</p>

          <div class="content-block">
            <p><strong>CenÃ¡rio:</strong> Imagine que vocÃª acabou de finalizar um projeto importante com sua equipe. VocÃª precisa enviar um e-mail ou fazer uma breve comunicaÃ§Ã£o para encerrar as atividades, confirmar o envio final e agradecer a todos.</p>
            <p>Use as frases que vocÃª aprendeu nesta liÃ§Ã£o para construir um pequeno parÃ¡grafo ou um mini-diÃ¡logo. Tente incluir pelo menos <strong>4 a 5 frases</strong> diferentes.</p>
            <p>Exemplo de frases para usar:</p>
            <ul>
              <li>"I have completed my part."</li>
              <li>"We are closing this task."</li>
              <li>"She will send the final version."</li>
              <li>"Everything is ready for delivery."</li>
              <li>"I appreciate your help."</li>
              <li>"We did a great job."</li>
            </ul>
          </div>

          <div class="micro-practice-section">
            <p>Escreva seu texto de fechamento aqui:</p>
            <textarea class="practice-input" id="final-practice-text" rows="8" placeholder="Ex: Hi team, I have completed my part of the project. Everything is ready for delivery. We did a great job! I appreciate your help."></textarea>
            <p class="feedback-message" id="feedback-final-practice"></p>
            <button class="playback-button" onclick="speakText(document.getElementById('final-practice-text').value)">
              <span class="emoji">ğŸ”Š</span> Ouvir meu texto
            </button>
          </div>

          <div class="super-tip">
            <span class="emoji">ğŸŒŸ</span>
            <div>
              <strong>Desafio Extra:</strong> Tente usar diferentes sujeitos (He, She, They) e adaptar as frases para diferentes situaÃ§Ãµes de fechamento.
            </div>
          </div>
        </div>
      </div>

    </div> <!-- End panels -->

    <div class="controls-row">
      <button class="record-button" id="record-btn" onclick="togglePractice()">
        <span class="record-dot" id="record-dot">âºï¸</span>
        <span id="record-text">Marcar momento de prÃ¡tica</span>
      </button>
      <div id="audio-status">Nenhum Ã¡udio real Ã© gravado â€“ use o botÃ£o como compromisso de prÃ¡tica em voz alta. ğŸ§</div>
    </div>

    <div class="export-bar">
      <button class="export-button" onclick="copyToSpreadsheet()">
        <span class="emoji">ğŸ“‹</span> Copiar para Planilha
      </button>
      <button class="export-button" onclick="exportPdf()">
        <span class="emoji">ğŸ“„</span> Exportar para PDF
      </button>
    </div>

    <footer class="footer-meta">
      <p>&copy; 2026 NEXTATION. Todos os direitos reservados.</p>
    </footer>

  </div> <!-- End app -->

  <script>
    let currentTab = 'overview';
    let recording = false;

    // --- Tab Switching ---
    function showTab(tabId) {
      const panels = document.querySelectorAll('.panel');
      panels.forEach(panel => {
        panel.classList.remove('active');
        panel.style.display = 'none'; // Hide all panels
      });
      const buttons = document.querySelectorAll('.tab-button');
      buttons.forEach(button => button.classList.remove('active'));

      document.getElementById(tabId).classList.add('active');
      document.getElementById(tabId).style.display = 'block'; // Show active panel
      document.querySelector(`.tab-button[onclick="showTab('${tabId}')"]`).classList.add('active');
      currentTab = tabId;
      resetPractice(); // Reset practice state when changing tabs
    }

    // --- Text to Speech ---
    function speakText(text) {
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US'; // Force English accent
        speechSynthesis.speak(utterance);
      } else {
        alert('Seu navegador nÃ£o suporta sÃ­ntese de fala.');
      }
    }

    // --- Micro-Practice Answer Checking ---
    function checkAnswer(inputElement, correctAnswer) {
      const feedbackElement = inputElement.nextElementSibling; // Assumes feedback is next sibling
      const userAnswer = inputElement.value.trim().toLowerCase().replace(/[.,!?;]/g, '');
      const cleanCorrectAnswer = correctAnswer.trim().toLowerCase().replace(/[.,!?;]/g, '');

      if (userAnswer === cleanCorrectAnswer) {
        feedbackElement.textContent = 'âœ… Correto! Muito bem!';
        feedbackElement.className = 'feedback-message correct';
      } else if (userAnswer.length > 0) {
        feedbackElement.textContent = 'âŒ Tente novamente.';
        feedbackElement.className = 'feedback-message incorrect';
      } else {
        feedbackElement.textContent = '';
        feedbackElement.className = 'feedback-message';
      }
    }

    // --- Multiple Choice Exercise Checking ---
    function checkExercise(button, tabId, type) {
      const optionsContainer = button.closest('.options');
      const feedbackElement = document.getElementById(`feedback-${tabId}`);

      // Reset previous feedback
      Array.from(optionsContainer.children).forEach(btn => {
        btn.classList.remove('correct', 'incorrect');
        btn.disabled = false; // Re-enable all buttons
      });

      if (type === 'correct') {
        button.classList.add('correct');
        feedbackElement.textContent = 'âœ… Perfeito! Essa Ã© a opÃ§Ã£o correta.';
        feedbackElement.className = 'exercise-feedback correct';
      } else {
        button.classList.add('incorrect');
        feedbackElement.textContent = 'âŒ Essa nÃ£o Ã© a resposta. Tente novamente!';
        feedbackElement.className = 'exercise-feedback incorrect';
      }

      // Disable all buttons after an attempt
      Array.from(optionsContainer.children).forEach(btn => btn.disabled = true);
    }

    // --- Audio Practice Toggle ---
    function togglePractice(){
      recording = !recording;
      const btn = document.getElementById('record-btn');
      const txt = document.getElementById('record-text');
      const dot = document.getElementById('record-dot');
      const status = document.getElementById('audio-status');
      if(!btn || !txt || !dot || !status) return;

      if(recording){
        btn.classList.add('recording');
        dot.textContent = 'ğŸ”´';
        txt.textContent = 'Praticando agora...';
        status.innerHTML = 'Momento de prÃ¡tica: fale em voz alta suas frases com as expressÃµes de fechamento. Use: <strong>Can we finish, I have completed, We are closing, Everything is ready, I appreciate, We did a great job</strong> e outras que vocÃª criar! ğŸ§';
      }else{
        btn.classList.remove('recording');
        dot.textContent = 'âºï¸';
        txt.textContent = 'Marcar momento de prÃ¡tica';
        status.textContent = 'PrÃ¡tica pausada. Clique de novo quando quiser focar na fala.';
      }
    }

    function resetPractice(){
      recording = false;
      const btn = document.getElementById('record-btn');
      const txt = document.getElementById('record-text');
      const dot = document.getElementById('record-dot');
      const status = document.getElementById('audio-status');
      if(!btn || !txt || !dot || !status) return;

      btn.classList.remove('recording');
      dot.textContent = 'âºï¸';
      txt.textContent = 'Marcar momento de prÃ¡tica';
      status.innerHTML = 'Nenhum Ã¡udio real Ã© gravado â€“ use o botÃ£o como compromisso de prÃ¡tica em voz alta. ğŸ§';
    }

    // --- Copy to Spreadsheet ---
    function copyToSpreadsheet(){
      const text = collectLessonText();
      if(!navigator.clipboard){
        alert('Seu navegador nÃ£o permite cÃ³pia automÃ¡tica. Selecione o texto manualmente.');
        return;
      }
      navigator.clipboard.writeText(text).then(()=>{
        alert('ConteÃºdo copiado! Cole (Ctrl+V) na sua planilha.');
      }).catch(()=>{
        alert('NÃ£o foi possÃ­vel copiar automaticamente. Selecione e copie manualmente.');
      });
    }

    function collectLessonText(){
      const blocks = [];
      document.querySelectorAll('.card-inner').forEach(inner=>{
        const clone = inner.cloneNode(true);
        // Remove interactive elements and non-content parts from the cloned content
        clone.querySelectorAll('button, input, textarea, select, label, .micro-practice-section, .super-tip, .char-counter, .feedback-message, .controls-row, .export-bar, .footer-nav, .footer-meta, .neon-header, .tabs, .app, .block-container ul, .example-en, .example-pt, .section-sub, .section-title, .sub-title, .exercise-section, .diagram-container, .syllable-counter-section, .adjective-example, .mistake-item, .tip-box, .portuguese-thinking').forEach(el=>el.remove());
        // Clean up extra spaces/newlines
        let cleanedText = clone.innerText.trim();
        cleanedText = cleanedText.replace(/\s{2,}/g, ' '); // Replace multiple spaces with single space
        cleanedText = cleanedText.replace(/\n\s*\n/g, '\n\n'); // Replace multiple newlines with double newline
        blocks.push(cleanedText);
      });
      return blocks.join('\n\n-----------------------------\n\n');
    }

    // --- Export to PDF ---
    async function exportPdf() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('p', 'pt', 'a4'); // 'p' for portrait, 'pt' for points, 'a4' for A4 size

        const content = document.querySelector('.panels'); // Select the main content area

        // Temporarily show all panels to capture content for PDF
        const allPanels = document.querySelectorAll('.panel');
        allPanels.forEach(panel => panel.style.display = 'block');

        // Capture content with html2canvas
        const canvas = await html2canvas(content, {
            scale: 2, // Increase scale for better resolution
            useCORS: true, // Enable cross-origin images if any
            windowWidth: content.scrollWidth,
            windowHeight: content.scrollHeight,
            x: content.offsetLeft,
            y: content.offsetTop,
            width: content.offsetWidth,
            height: content.offsetHeight
        });

        // Restore original panel display
        allPanels.forEach(panel => panel.style.display = 'none');
        document.querySelector('.panel.active').style.display = 'block'; // Show only the active panel again

        const imgData = canvas.toDataURL('image/png');
        const imgWidth = 595; // A4 width in points
        const pageHeight = 842; // A4 height in points
        const imgHeight = canvas.height * imgWidth / canvas.width;
        let heightLeft = imgHeight;

        let position = 0;

        doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;

        while (heightLeft >= 0) {
            position = heightLeft - imgHeight;
            doc.addPage();
            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= pageHeight;
        }

        doc.save('NEXTATION_Lesson_Project_Closure_Wrap_up.pdf');
    }

    // Initial tab display on page load
    document.addEventListener('DOMContentLoaded', () => {
      showTab('overview');
    });
  </script>
</body>
</html>
